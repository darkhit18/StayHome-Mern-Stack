<%- include('../partials/head')%>
</head>

<body class="bg-gray-900 text-white min-h-screen flex flex-col">
  <!-- Navbar -->
  <%- include('../partials/nav')%>

  <!-- Background Animated Blobs -->
  <div class="fixed inset-0 -z-10 overflow-hidden">
    <div class="absolute top-10 left-20 w-72 h-72 bg-pink-500 rounded-full filter blur-3xl opacity-30 animate-pulse"></div>
    <div class="absolute bottom-20 right-20 w-80 h-80 bg-purple-600 rounded-full filter blur-3xl opacity-30 animate-pulse"></div>
    <div class="absolute top-1/3 right-1/4 w-64 h-64 bg-blue-500 rounded-full filter blur-2xl opacity-25 animate-ping"></div>
  </div>

  <!-- Main Section -->
  <main class="flex-grow flex items-center justify-center p-6">
    <div
      class="relative max-w-md w-full bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl overflow-hidden">

      <!-- Animated Gradient Border -->
      <div
        class="absolute inset-0 rounded-2xl p-[2px] bg-gradient-to-r from-pink-500 via-purple-600 to-blue-500 animate-[spin_6s_linear_infinite]">
      </div>

      <!-- Card Content -->
      <div class="relative p-8">
        <!-- Title -->
        <h1 class="text-3xl font-bold mb-6 flex items-center justify-center gap-2 text-white">
          <i data-lucide="log-in"></i>
          Login
        </h1>

        <!-- Login Form -->
        <form action="/login" method="POST" class="space-y-6">
            <%- include('../partials/errors')%>
          <!-- Email -->
          <div class="relative">
            <input type="email" name="email" id="email" value="<%= oldInput.email ? oldInput.email : '' %>" required placeholder=" "
              class="peer w-full px-4 pt-5 pb-2 rounded-lg bg-white/20 text-white placeholder-transparent focus:outline-none focus:ring-2 focus:ring-pink-500 focus:bg-white/30" />
            <label for="email"
              class="absolute left-4 top-2 text-gray-900 text-sm transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-gray-900 peer-placeholder-shown:text-base peer-focus:top-2 peer-focus:text-sm peer-focus:text-pink-800">
              Email Address
            </label>
            <i data-lucide="mail"
              class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-300 peer-focus:text-pink-400"></i>
          </div>

          <!-- Password -->
          <div class="relative">
            <input type="password" name="password" id="password" required placeholder=" "
              class="peer w-full px-4 pt-5 pb-2 rounded-lg bg-white/20 text-white placeholder-transparent focus:outline-none focus:ring-2 focus:ring-pink-500 focus:bg-white/30" />
            <label for="password"
              class="absolute left-4 top-2 text-gray-900 text-sm transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-gray-900 peer-placeholder-shown:text-base peer-focus:top-2 peer-focus:text-sm peer-focus:text-pink-800">
              Password
            </label>
            <!-- Toggle Password -->
            <button type="button" id="togglePassword" tabindex="-1"
              class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-300 hover:text-pink-400 focus:outline-none">
              <i data-lucide="eye"></i>
            </button>
          </div>

          <!-- Button -->
          <button type="submit"
            class="w-full flex items-center justify-center gap-2 px-4 py-3 font-semibold rounded-lg bg-gradient-to-r from-pink-500 to-purple-600 hover:from-purple-600 hover:to-pink-500 transition duration-300 shadow-lg hover:shadow-pink-500/40">
            <i data-lucide="log-in"></i>
            Login
          </button>
        </form>

        <!-- Signup Link -->
        <p class="text-center text-sm text-gray-300 mt-6">
          Donâ€™t have an account?
          <a href="/signup" class="text-gray-900 hover:underline">Sign up</a>
        </p>
      </div>
    </div>
  </main>

  <!-- Lucide + Animations -->
 <script src="https://unpkg.com/lucide@0.451.0"></script>
  <script>
    lucide.createIcons();

    // Password Toggle
    const toggleBtn = document.getElementById('togglePassword');
    const pwdField = document.getElementById('password');
    toggleBtn.addEventListener('click', () => {
      const type = pwdField.getAttribute('type') === 'password' ? 'text' : 'password';
      pwdField.setAttribute('type', type);
      toggleBtn.innerHTML = type === 'password' ? `<i data-lucide="eye"></i>` : `<i data-lucide="eye-off"></i>`;
      lucide.createIcons();
    });
  </script>

  <!-- Animations -->
  <style>
    @keyframes shake {
      10%, 90% { transform: translateX(-1px); }
      20%, 80% { transform: translateX(2px); }
      30%, 50%, 70% { transform: translateX(-4px); }
      40%, 60% { transform: translateX(4px); }
    }
    .animate-shake { animation: shake 0.5s ease-in-out; }
    .animate-fade-in { animation: fadeIn 0.6s ease-in-out; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  </style>
</body>
</html>
